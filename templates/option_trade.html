{% extends "base.html" %}

{% block title %}Option Trade - Trading Platform{% endblock %}

{% block content %}
<style>
    /* Override base template container styles */
    main.container-fluid {
        padding: 0 !important;
        margin: 0 !important;
        max-width: none !important;
    }
    
    /* Clean white split pane layout */
    .split-container {
        display: flex;
        height: calc(100vh - 40px);
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        font-size: 13px;
        line-height: 1.4;
        background: #ffffff;
        position: fixed;
        top: 40px;
        left: 0;
        right: 0;
        z-index: 1000;
    }
    
    .split-pane {
        background: #ffffff;
        border: 1px solid #e1e4e8;
        display: flex;
        flex-direction: column;
        min-width: 200px;
    }
    
    .split-pane-left {
        flex: 0 0 40%;
        border-right: none;
    }
    
    .split-pane-right {
        flex: 1;
        border-left: none;
    }
    
    .resize-handle {
        width: 6px;
        background: #e1e4e8;
        cursor: col-resize;
        user-select: none;
        position: relative;
    }
    
    .resize-handle:hover {
        background: #d0d7de;
    }
    
    .pane-content {
        flex: 1;
        padding: 0;
        overflow: auto;
        background: #ffffff;
    }
</style>

<div class="split-container">
    <!-- Left Pane -->
    <div class="split-pane split-pane-left">
        <div class="pane-content"></div>
    </div>
    
    <!-- Resize Handle -->
    <div class="resize-handle" id="resizeHandle"></div>
    
    <!-- Right Pane -->
    <div class="split-pane split-pane-right">
        <div class="pane-content"></div>
    </div>
</div>

<script>
// Resizable split panes
document.addEventListener('DOMContentLoaded', function() {
    const resizeHandle = document.getElementById('resizeHandle');
    const leftPane = document.querySelector('.split-pane-left');
    const rightPane = document.querySelector('.split-pane-right');
    const container = document.querySelector('.split-container');
    
    let isResizing = false;
    
    resizeHandle.addEventListener('mousedown', function(e) {
        isResizing = true;
        document.body.style.cursor = 'col-resize';
        document.body.style.userSelect = 'none';
        e.preventDefault();
    });
    
    document.addEventListener('mousemove', function(e) {
        if (!isResizing) return;
        
        const containerRect = container.getBoundingClientRect();
        const newLeftWidth = e.clientX - containerRect.left;
        const containerWidth = containerRect.width;
        
        // Calculate percentage, ensuring minimum widths
        const leftPercentage = Math.max(20, Math.min(80, (newLeftWidth / containerWidth) * 100));
        
        leftPane.style.flex = `0 0 ${leftPercentage}%`;
        rightPane.style.flex = `1`;
    });
    
    document.addEventListener('mouseup', function() {
        if (isResizing) {
            isResizing = false;
            document.body.style.cursor = '';
            document.body.style.userSelect = '';
        }
    });
    
    // Prevent text selection during resize
    resizeHandle.addEventListener('selectstart', function(e) {
        e.preventDefault();
    });
});
</script>
{% endblock %}